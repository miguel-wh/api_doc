description: |
  This is a sample server Petstore server.
  You can find out more about Swagger at
  [http://swagger.io](http://swagger.io) or on [irc.freenode.net, #swagger](http://swagger.io/irc/).
  For this sample, you can use the api key `special-key` to test the authorization filters.
  # Introduction
  This API is documented
  # WebSocket
  For any endpoint that return facility:
  ```
  {
    "facility": "a474b7e8-1056-4e7d-9a71-54ec32e5152d"
  }
  ```
  **How to get the data?**

  ## Example 1
  
  **Step 1 - Get facility**

  It is recommended to consume API from the backend.
  This is an example with Python.
  ```
  def get_api_example(request):
    endpoint = "https://{{your_subdomain}}.adminolt.com/api/onu/unauthorized/"
    token = "{{your_token}}"

    headers = {
        "Authorization": "Token {0}".format(token)
    }
    response = requests.get(url=endpoint, headers=headers)
    data = response.json()
    facility = data.get('facility') # Step 2 - Send variable to web browser

    return render(request, 'ws/ws.html', {"facility": facility})

  ```

  **Step 2 - Send "facility" to web browser**
  ```
  <script>
    var key_facility = "{{facility}}"
  </script>
  ```


  **Step 3 - Import the next files (libraries)**

  ```
  <input id="WEBSOCKET_URI" type="hidden" value="wss://{{your_subdomain}}.adminolt.com/ws/">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script type="text/javascript" src="https://adminolt.com/static/js/ws4redis.js"></script>
  <script type="text/javascript" src="https://adminolt.com/static/js/websocket-adminolt.js"></script>
  ```

  **Step 4 - Make connection to the websocket**

  In your Javascript
  ```
  <script>
    var key_facility = "{{facility}}"

    // The function "task_adminolt_ajax()" is defined in the file:
    // <script type="text/javascript" src="https://adminolt.com/static/js/websocket-adminolt.js"></script>
    // It makes the connection to the websocket to obtain data and and receives as an argument: facility
    task_adminolt_ajax(key_facility)
  </script>
  ```

  **Step 5 - Results**

  Once data is obtained, you can make use of it
  ```
  <script>
    const info = document.getElementById("info")
    info.innerHTML = JSON.stringify(data); //print data
  </script>
  ```

  **Full example Javascript**
  ```
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <title></title>
    </head>
    <body>
        <h2>Response data</h2>
        <div id="info" style="font-size: 20px; overflow: hidden; position: absolute; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center;">
            
        </div>

    </body>
    <input id="WEBSOCKET_URI" type="hidden" value="wss://{{your_subdomain}}.adminolt.com/ws/">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://adminolt.com/static/js/ws4redis.js"></script>
    <script type="text/javascript" src="https://adminolt.com/static/js/websocket-adminolt.js"></script>

    <script type="text/javascript">

    var key_facility = "{{facility}}" // facility

    // The function "task_adminolt_ajax()" is defined in the file:
    // <script type="text/javascript" src="https://adminolt.com/static/js/websocket-adminolt.js"></script>
    // It makes the connection to the websocket to obtain data and and receives as an argument: facility
    task_adminolt_ajax(key_facility)


    function task_custom_done(data){
      //If the connection to the websocket was successful, return data within this function.

        //Remove the loader component when returning data.
        $(".loading-gif, .jobstatic-panel").hide(); // Closed
        $("#content-loading-gif").hide();

        Once data is obtained, you can make use of it
        console.log(data)
        const info = document.getElementById("info")
        info.innerHTML = JSON.stringify(data); // Example print response_data
    }

    </script>
    </html>
  ```

  **Result data**

  ![Baeldung](https://wisphub.net/media/uploadsCKEditor/miguelangel%40wisphub/2021/12/22/response_data2.png)
  ![Baeldung](https://wisphub.net/media/uploadsCKEditor/miguelangel%40wisphub/2021/12/22/console_data.png)
  

  ## Example 2

  **Request Method: GET**

  **Request URL WebSocket:**
  ```
    wss://{{your_subdomain}}.adminolt.com/ws/{{facility}}?subscribe-broadcast
  ```